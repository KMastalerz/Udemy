<div class="row">
    <div class="col-xs-12">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <!-- Name -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input 
                            type="text" 
                            id="name" 
                            class="form-control" 
                            formControlName="name"/>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea
                            type="text" 
                            id="description" 
                            class="form-control" 
                            formControlName="description"
                            rows="3"></textarea>
                    </div>
                </div>
            </div>

            <!-- Picture URL -->
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <label for="imageUrl">Image URL</label>
                        <input
                            type="text" 
                            id="imageUrl" 
                            class="form-control" 
                            formControlName="imageUrl"
                            #image/>
                    </div>
                </div>
            </div>
            
            <!-- Display picture if url had been provided -->
            <div class="row">
                <div class="col-xs-12">
                    <img [src]="image.value" class="img-responsive"/>
                </div>
            </div>

            <!-- Ingredients -->
            <div class="row" style="margin-top: 25px;">
                <div 
                class="col-xs-12 ingredients" 
                formArrayName="ingredients">
                    <div class="row form-group" 
                         *ngFor="let ingredient of ingredients; let i = index"
                         [formGroupName]="i">
                         <div class="col-xs-6">
                            <input 
                                type="text" 
                                id="name" 
                                class="form-control" 
                                formControlName="name">
                        </div>
                        <div class="col-xs-2">
                            <input 
                                type="number" 
                                id="amount" 
                                formControlName="amount"
                                class="form-control" >
                        </div>
                        <div class="col-xs-2">
                            <select id="unit" 
                                    class="form-control"
                                    formControlName="unit">
                                <option *ngFor="let unit of units" [value]="unit"> {{ unit }}</option>
                            </select>
                        </div>
                        <div class="col-xs-2">
                            <button class="btn btn-danger"
                                    (click)="onRemoveIngredient(i)">
                                    Remove
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group">
                        <button class="btn btn-primary" 
                                type="button"
                                (click)="onAddIngredient()">
                            Add Ingredient
                        </button>
                    </div>
                </div>
            </div>

            <!-- Buttons -->
            <hr>

            <div class="row">
                <div class="col-xs-12 buttons">
                    <button 
                        class="btn btn-success" 
                        type="submit"
                        [disabled]="!form.valid">
                        Save
                    </button>
                    <button class="btn btn-danger" 
                            type="button"
                            (click)="onCancel()">
                        Cancel
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>